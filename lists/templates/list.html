{% extends "base.html" %}
{% block title %}{{ list }}{% endblock %}
{% block header %}
<script>
$(document).ready(function() {
	$('#add_item').on('click', addItem);

	$('#new_item').on('keyup', checkForNewItem);
});

function checkForNewItem(e){
	if (e.keyCode == 13) addItem();
}

function addItem(){
	var newItem = $('#new_item').val();
	$.ajax('add/' + newItem);
	$('#items').append('<li><input type="checkbox" name="complete">' + newItem + '</li>');
	$('#new_item').val('');
}
</script>
{% endblock %}
{% block content %}
	<h1>{{ list }}</h1>
	<div><input type="text" placeholder="new item" id="new_item" name="new_item"><input type="button" id="add_item" value="add"></div>
	<ol id="items">
	{% for item in list.item_set.all %}
		<li><input type="checkbox" {% if item.complete %} checked="checked" {% endif %} name="complete">{{ item }}</li>
	{% endfor %}
	</ol>
{% endblock %}